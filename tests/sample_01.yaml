app:
  name: product-service
  listeners: 
  - 8080
  - 8081
  routes:
  - name: product-backend
    matchers:
    - endpoint: /backend/pay
      methods: ['GET', 'POST'] 
      match: exact
      sink: payments
    - endpoint: /backend/v2
      methods: ['GET', 'POST', 'DELETE', 'PATCH', 'PUT', 'OPTIONS'] 
      match: prefix
      sink: v2
    - endpoint: /backend/*
      methods: ['GET', 'POST', 'DELETE', 'PATCH', 'PUT', 'OPTIONS'] 
      match: prefix
      sink: v1
  sinks:
  - name: v1
    upstreams:
    - address: '1.0.0.1'
      port: 80
      weight: 10
  - name: v2
    upstreams:
    - address: '1.0.0.2'
      port: 80
      weight: 10
  - name: payments
    upstreams:
    - address: '1.0.0.3'
      port: 443
      weight: 10
